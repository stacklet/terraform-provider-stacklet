---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "stacklet_binding Resource - terraform-provider-stacklet"
subcategory: ""
description: |-
  Manages a binding between an account group and a policy collection.
---

# stacklet_binding (Resource)

Manages a binding between an account group and a policy collection.

## Example Usage

```terraform
data "stacklet_account_group" "development" {
  name = "development"
}

data "stacklet_policy_collection" "compliance" {
  name = "compliance"
}

resource "stacklet_binding" "example" {
  name        = "development-compliance"
  description = "Compliance policies for development accounts"

  account_group_uuid     = data.stacklet_account_group.development.uuid
  policy_collection_uuid = data.stacklet_policy_collection.compliance.uuid

  auto_deploy = true
  schedule    = "rate(12 hours)"

  dry_run = true

  resource_limits = {
    max_count      = 200
    max_percentage = 20.0
    requires_both  = true
  }

  # map keys are unqualified policy names
  policy_resource_limits = {
    policy1 = {
      max_count = 10
    }
    policy2 = {
      max_percentage = 30.0
    }
    policy3 = {
      max_count      = 20
      max_percentage = 50.0
      requires_both  = true
    }
  }

  variables = jsonencode({
    environment = "development"
    severity    = "medium"
  })
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `account_group_uuid` (String) The UUID of the account group this binding applies to.
- `name` (String) The name of the binding.
- `policy_collection_uuid` (String) The UUID of the policy collection this binding applies.

### Optional

> **NOTE**: [Write-only arguments](https://developer.hashicorp.com/terraform/language/resources/ephemeral#write-only-arguments) are supported in Terraform 1.11 and later.

- `auto_deploy` (Boolean) Whether the binding should automatically deploy when the policy collection changes.
- `description` (String) A description of the binding.
- `dry_run` (Boolean) Whether the binding is run in with action disabled (in information mode).
- `policy_resource_limits` (Attributes Map) Per-policy overrides for resource limits for binding execution. Map keys are policy unqualified names. (see [below for nested schema](#nestedatt--policy_resource_limits))
- `resource_limits` (Attributes) Default resource limits for binding execution. (see [below for nested schema](#nestedatt--resource_limits))
- `schedule` (String) The schedule for the binding (e.g., 'rate(1 hour)', 'rate(2 hours)', or cron expression).
- `security_context` (String) The binding execution security context.
- `security_context_wo` (String, Sensitive, [Write-only](https://developer.hashicorp.com/terraform/language/resources/ephemeral#write-only-arguments)) The input value for the security context for the execution configuration.
- `security_context_wo_version` (String) The version for the security context. Must be changed to update security_context_wo.
- `variables` (String) JSON-encoded dictionary of values used for policy templating.

### Read-Only

- `id` (String) The GraphQL Node ID of the binding.
- `system` (Boolean) Whether the binding is a system one. Always false for resources.
- `uuid` (String) The UUID of the binding.

<a id="nestedatt--policy_resource_limits"></a>
### Nested Schema for `policy_resource_limits`

Optional:

- `max_count` (Number) Max count of affected resources.
- `max_percentage` (Number) Max percentage of affected resources.
- `requires_both` (Boolean) If set, only applies limits when both thresholds are exceeded.


<a id="nestedatt--resource_limits"></a>
### Nested Schema for `resource_limits`

Optional:

- `max_count` (Number) Max count of affected resources.
- `max_percentage` (Number) Max percentage of affected resources.
- `requires_both` (Boolean) If set, only applies limits when both thresholds are exceeded.

## Import

Import is supported using the following syntax:

```shell
terraform import stacket_binding.example $uuid
```
